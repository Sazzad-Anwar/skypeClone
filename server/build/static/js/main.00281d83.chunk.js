(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{183:function(e,t,r){},184:function(e,t,r){},279:function(e,t,r){"use strict";r.r(t);var a=r(0),s=r.n(a),n=r(28),c=r.n(n),i=(r(183),r(184),r(10)),o=r(37),l=r(8),d=r(64),u=r(108),b=r(1),h=function(){var e=Object(a.useState)("dark"),t=Object(l.a)(e,2),r=t[0],s=t[1];return Object(a.useEffect)((function(){"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):(localStorage.setItem("theme","light"),document.documentElement.classList.remove("dark"))}),[r]),Object(b.jsx)("span",{onClick:function(){s("dark"===r?"light":"dark"),localStorage.setItem("theme","dark"===r?"light":"dark")},className:"material-icons-outlined cursor-pointer hover:text-gray-700 dark:text-white dark:hover:text-gray-300 transition-all ease-in-out",children:"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?"light_mode":"nightlight_round"})},j=r(23),m=r(13),x=r.n(m),g=r(25),f="LOGIN_REQUEST",p="LOGIN_REQUEST_SUCCESS",O="LOGIN_REQUEST_FAILED",v="LOGOUT",k="REGISTRATION_REQUEST",w="REGISTRATION_REQUEST_SUCCESS",y="REGISTRATION_REQUEST_FAILED",N=r(90),S=r(87),C=r.n(S),_=function(){return function(){var e=Object(g.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("token"),t({type:v});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(){var e,t,r=Object(a.useState)(!1),s=Object(l.a)(r,2),n=s[0],c=s[1],m=Object(j.b)(),v=Object(i.g)(),k=Object(i.f)(),w=Object(j.c)((function(e){return e.user})),y=Object(u.a)(),S=y.register,_=y.handleSubmit,E=y.formState.errors,I=(null===(e=k.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/dashboard";Object(a.useEffect)((function(){w&&w._id&&v(I,{replace:!0})}),[v,I,w]);return Object(b.jsx)("div",{className:"dark:bg-gray-900 bg-white px-4 md:px-0 h-screen w-screen dark:text-white flex justify-center items-center lg:items-start lg:pt-56",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"flex justify-center items-center mb-6",children:Object(b.jsx)("img",{className:"",src:"https://logincdn.msauth.net/shared/1.0/content/images/applogos/44_08ed657e48f1458641b5f879d82004cd.png",alt:"logo"})}),Object(b.jsxs)("div",{className:"bg-white shadow-md px-11 lg:mx-0 w-screen sm:w-96  py-12 border border-gray-200 dark:border-gray-900 dark:bg-gray-800 relative",children:[Object(b.jsx)("div",{className:"absolute right-2 top-2",children:Object(b.jsx)(h,{})}),Object(b.jsx)("img",{className:"mb-4",src:"https://logincdn.msauth.net/shared/1.0/content/images/microsoft_logo_ee5c8d9fb6248c938fd0dc19370e90bd.svg",alt:"mircrosoft"}),Object(b.jsx)("h1",{className:"text-2xl font-semibold dark:text-white ",children:"Sign in"}),Object(b.jsx)("p",{children:"to continue to skype"}),Object(b.jsxs)("form",{onSubmit:_((function(e){var t;m((t=e,function(){var e=Object(g.a)(x.a.mark((function e(r){var a,s,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:f}),e.next=4,C.a.post("/api/v1/login",t);case 4:a=e.sent,s=a.data.token,n=Object(N.a)(s),r({type:p,payload:n}),localStorage.setItem("token",JSON.stringify(s)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r({type:O,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())),v(I,{replace:!0})})),autoComplete:"off",children:[Object(b.jsxs)("div",{className:"mt-6 mb-4",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({},S("email",{required:!0})),{},{type:"email",className:"focus:outline-none dark:bg-gray-800 ".concat(E.email?"focus:border-red-500 dark:focus:border-red-500":"focus:border-blue-500","  border-black dark:border-gray-400 transition duration-200 ease-in-out border-b w-full pb-2 text-sm"),placeholder:"Email"})),E.email&&Object(b.jsx)("p",{className:"text-red-500 my-2",children:"Email is required"})]}),Object(b.jsxs)("div",{className:"mb-4 relative",children:[Object(b.jsxs)("div",{className:"flex items-center justify-between  w-full pb-1",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({},S("password",{required:!0})),{},{type:n?"text":"password",className:"focus:outline-none dark:bg-gray-800 pr-6 ".concat(E.password?"focus:border-red-500 dark:focus:border-red-500":"focus:border-blue-500","  border-black dark:border-gray-400 transition duration-200 ease-in-out border-b w-full pb-2 text-sm"),placeholder:"Password"})),Object(b.jsx)("div",{className:"absolute right-0 cursor-pointer",children:Object(b.jsx)("span",{className:"material-icons-outlined mr-2",onClick:function(){return c(!n)},children:n?"visibility_off":"visibility"})})]}),E.password&&Object(b.jsx)("p",{className:"text-red-500 my-2",children:"Password is required"})]}),w&&w.error&&Object(b.jsx)("p",{className:"bg-red-800 text-white py-2 text-center",children:w.error}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("p",{className:"dark:text-white",children:"No account?"}),Object(b.jsx)(d.b,{to:"/registration",className:"ml-2 text-blue-500 hover:text-gray-600 dark:hover:text-white",children:"Create One"})]}),Object(b.jsx)("div",{className:"flex justify-end mt-4",children:Object(b.jsx)("button",{type:"submit",className:"px-9 py-1.5 hover:bg-blue-900 bg-blue-800 transition duration-200 ease-in-out text-white ",children:"Go"})})]})]})]})})},I=function(){var e,t,r=Object(a.useState)(!1),s=Object(l.a)(r,2),n=s[0],c=s[1],m=Object(a.useState)(!1),f=Object(l.a)(m,2),p=f[0],O=f[1],v=Object(a.useState)(""),S=Object(l.a)(v,2),_=S[0],E=S[1],I=Object(a.useState)(""),U=Object(l.a)(I,2),R=U[0],A=U[1],L=Object(j.c)((function(e){return e.user})),P=Object(i.f)(),T=Object(i.g)(),D=Object(j.b)(),W=Object(u.a)(),M=W.register,F=W.handleSubmit,q=W.formState.errors,H=(null===(e=P.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/dashboard";Object(a.useEffect)((function(){L&&L._id&&T(H)}),[T,H,L,D]);return Object(b.jsx)("div",{className:"dark:bg-gray-900 overflow-hidden bg-white h-screen w-screen dark:text-white flex justify-center items-center lg:items-start lg:pt-40",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"flex justify-center items-center mb-6",children:Object(b.jsx)("img",{className:"",src:"https://logincdn.msauth.net/shared/1.0/content/images/applogos/44_08ed657e48f1458641b5f879d82004cd.png",alt:"logo"})}),Object(b.jsxs)("div",{className:"bg-white shadow-md px-11 mx-2 lg:mx-0 w-screen lg:w-96  py-12 border border-gray-200 dark:border-gray-900 dark:bg-gray-800 relative",children:[Object(b.jsx)("div",{className:"absolute right-2 top-2",children:Object(b.jsx)(h,{})}),Object(b.jsx)("img",{className:"mb-4",src:"https://logincdn.msauth.net/shared/1.0/content/images/microsoft_logo_ee5c8d9fb6248c938fd0dc19370e90bd.svg",alt:"mircrosoft"}),Object(b.jsx)("h1",{className:"text-2xl font-semibold dark:text-white ",children:"Sign in"}),Object(b.jsx)("p",{children:"to continue to skype"}),Object(b.jsxs)("form",{onSubmit:F((function(e){var t;D((t=e,function(){var e=Object(g.a)(x.a.mark((function e(r){var a,s,n,c,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:k}),e.next=4,C.a.post("/api/v1/registration",t);case 4:return a=e.sent,s=a.data.token,n=Object(N.a)(s),e.next=9,C.a.get("/api/v1/user/".concat(n.details._id));case 9:c=e.sent,i=c.data.data,r({type:w,payload:i}),localStorage.setItem("token",JSON.stringify(s)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),r({type:y,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}())),setTimeout((function(){window.location.reload()}),1e3)})),autoComplete:"off",children:[Object(b.jsxs)("div",{className:"mt-6 mb-4",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({},M("name",{required:!0})),{},{type:"text",className:"focus:outline-none dark:bg-gray-800 ".concat(q.email?"focus:border-red-500":"focus:border-blue-500","  border-black dark:border-gray-400 transition duration-200 ease-in-out border-b w-full pb-2 text-sm"),placeholder:"Name"})),q.name&&Object(b.jsx)("p",{className:"text-red-500 my-1",children:"Name is required"})]}),Object(b.jsxs)("div",{className:"mb-4",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({},M("email",{required:!0})),{},{type:"email",className:"focus:outline-none dark:bg-gray-800 ".concat(q.email?"focus:border-red-500":"focus:border-blue-500","  border-black dark:border-gray-400 transition duration-200 ease-in-out border-b w-full pb-2 text-sm"),placeholder:"Email"})),q.email&&Object(b.jsx)("p",{className:"text-red-500 my-1",children:"Email is required"})]}),Object(b.jsxs)("div",{className:"mb-4",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({},M("phone",{required:!0})),{},{type:"tel",className:"focus:outline-none dark:bg-gray-800 ".concat(q.email?"focus:border-red-500":"focus:border-blue-500","  border-black dark:border-gray-400 transition duration-200 ease-in-out border-b w-full pb-2 text-sm"),placeholder:"Phone Number"})),q.phone&&Object(b.jsx)("p",{className:"text-red-500 my-1",children:"Phone number is required"})]}),Object(b.jsxs)("div",{className:"mb-4 relative",children:[Object(b.jsxs)("div",{className:"flex items-center justify-between  w-full pb-1",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({},M("password",{required:!0})),{},{type:n?"text":"password",onChange:function(e){return E(e.target.value)},value:_,className:"focus:outline-none dark:bg-gray-800 pr-6 ".concat(q.confirmPassword||q.confirmPassword!==q.password?"focus:border-red-500 dark:focus:border-red-500":"focus:border-blue-500","  border-black dark:border-gray-400 transition duration-200 ease-in-out border-b w-full pb-2 text-sm"),placeholder:"Password"})),Object(b.jsx)("div",{className:"absolute right-0 cursor-pointer",children:Object(b.jsx)("span",{className:"material-icons-outlined mr-2",onClick:function(){return c(!n)},children:n?"visibility_off":"visibility"})})]}),q.password&&Object(b.jsx)("p",{className:"text-red-500 my-1",children:"Password is required"}),!q.confirmPassword&&R!==_&&Object(b.jsx)("p",{className:"text-red-500 my-1",children:"Password do not match"})]}),Object(b.jsxs)("div",{className:"mb-4 relative",children:[Object(b.jsxs)("div",{className:"flex items-center justify-between  w-full pb-1",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({},M("confirmPassword",{required:!0})),{},{onChange:function(e){return A(e.target.value)},value:R,type:p?"text":"password",className:"focus:outline-none dark:bg-gray-800 pr-6 ".concat(q.confirmPassword||q.confirmPassword!==q.password?"focus:border-red-500 dark:focus:border-red-500":"focus:border-blue-500","  border-black dark:border-gray-400 transition duration-200 ease-in-out border-b w-full pb-2 text-sm"),placeholder:"Password"})),Object(b.jsx)("div",{className:"absolute right-0 cursor-pointer",children:Object(b.jsx)("span",{className:"material-icons-outlined mr-2",onClick:function(){return O(!p)},children:p?"visibility_off":"visibility"})})]}),q.confirmPassword&&Object(b.jsx)("p",{className:"text-red-500 my-1",children:"Password is required"}),!q.confirmPassword&&R!==_&&Object(b.jsx)("p",{className:"text-red-500 my-1",children:"Password do not match"})]}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("p",{className:"dark:text-white",children:"Already have account?"}),Object(b.jsx)(d.b,{to:"/",className:"ml-2 text-blue-500 hover:text-gray-600 dark:hover:text-white",children:"Sign In"})]}),Object(b.jsx)("div",{className:"flex justify-end mt-4",children:Object(b.jsx)("button",{type:"submit",className:"px-9 py-1.5 hover:bg-blue-900 bg-blue-800 transition duration-200 ease-in-out text-white ",children:"Sign Up"})})]})]})]})})},U=function(e){var t=e.img,r=e.name;return Object(b.jsx)("div",{className:"w-full h-screen dark:bg-gray-700 flex justify-center items-center",children:Object(b.jsxs)("div",{className:"flex justify-start items-center",children:[Object(b.jsxs)("div",{className:"border h-20 w-20 border-gray-400 dark:border-gray-800 rounded-full relative",children:[t?Object(b.jsx)("img",{className:"rounded-full h-20 w-20",src:t,alt:"user"}):Object(b.jsx)("img",{className:"rounded-full h-20 w-20",src:"https://ui-avatars.com/api/?name=".concat(r),alt:"user"}),Object(b.jsx)("div",{className:"absolute bottom-0 right-0 border rounded-full h-5 w-5 bg-green-500"})]}),Object(b.jsxs)("div",{className:"pl-2",children:[Object(b.jsx)("p",{className:"text-4xl mb-0 font-thin",children:"Welcome !"}),Object(b.jsx)("p",{className:"text-3xl mb-0 dark:text-gray-200 text-gray-500 font-semibold pt-1 cursor-pointer",children:r})]})]})})},R=r(27),A=r(283),L=r(285),P=r(174),T=r(286),D=r(281),W=r(284),M=r(287),F=r(161),q=r.n(F),H=A.a.TextArea,Q=function(e){var t=e.chattingUser,r=Object(a.useRef)(0),s=Object(a.useRef)(0),n=Object(a.useRef)(0),c=Object(j.b)(),i=Object(a.useRef)(null),o=Object(a.useState)(!1),d=Object(l.a)(o,2),u=d[0],h=d[1],m=Object(a.useState)(0),f=Object(l.a)(m,2),p=f[0],O=f[1],v=Object(a.useState)(0),k=Object(l.a)(v,2),w=k[0],y=k[1],N=Object(a.useState)(0),S=Object(l.a)(N,2),C=S[0],_=S[1],E=Object(a.useState)(""),I=Object(l.a)(E,2),U=I[0],A=I[1],F=Object(a.useState)(!1),Q=Object(l.a)(F,2),z=Q[0],G=Q[1],B=Object(a.useState)(!1),J=Object(l.a)(B,2),K=J[0],Y=J[1],V=Object(j.c)((function(e){return e.details})).details,$=Object(j.c)((function(e){return e.socket})),X=Object(a.useState)([]),Z=Object(l.a)(X,2),ee=Z[0],te=Z[1],re=Object(a.useState)([]),ae=Object(l.a)(re,2),se=ae[0],ne=ae[1],ce=Object(a.useState)(!1),ie=Object(l.a)(ce,2),oe=ie[0],le=ie[1],de=Object(a.useState)(""),ue=Object(l.a)(de,2),be=ue[0],he=ue[1],je=Object(a.useState)(""),me=Object(l.a)(je,2),xe=me[0],ge=me[1];Object(a.useEffect)((function(){var e;O(r.current.offsetWidth),y(s.current.offsetHeight),_(n.current.offsetHeight),window.innerWidth<992?G(!0):G(!1),window.addEventListener("resize",(function(){window.innerWidth<992?G(!0):G(!1)})),null===(e=i.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end"})}),[s,n,w,r,ee]);Object(a.useEffect)((function(){return $.on("message",(function(e){te((function(t){return[].concat(Object(R.a)(t),[e])}))})),function(){$.off()}}),[ee,c,$]),Object(a.useEffect)((function(){return $.on("chat",(function(e){te(e)})),$.emit("get-chat",{sender:t.email,receiver:V.email}),function(){$.off()}}),[t.email,V.email,$]);var fe=function(){if(""!==U.trim()){var e={sender:null===V||void 0===V?void 0:V.email,receiver:t.email,socketId:t.socketId,message:U,file:"",replyTo:"",updatedAt:(new Date).toLocaleDateString("en-US",{hour:"numeric",minute:"numeric"})};te((function(t){return[].concat(Object(R.a)(t),[e])})),A(""),$.emit("message",e),$.emit("to-all",e)}},pe=Object(b.jsxs)(L.a,{className:"dark:bg-gray-800",children:[Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:Object(b.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.antgroup.com",children:"1st menu item"})}),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:Object(b.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.aliyun.com",children:"2nd menu item"})}),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:Object(b.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.luohanacademy.com",children:"3rd menu item"})})]}),Oe=function(e){navigator.clipboard.writeText(e),P.b.success("Message copied to clipboard")},ve=function(e){return new Promise((function(t,r){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return r(e)}}))},ke=function(){var e=Object(g.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,ve(t.originFileObj);case 3:t.preview=e.sent;case 4:he(t.url||t.preview),ge(t.name||t.url.substring(t.url.lastIndexOf("/")+1)),le(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=Object(b.jsxs)("div",{children:[Object(b.jsx)(M.a,{}),Object(b.jsx)("div",{style:{marginTop:8},children:"Select"})]});return Object(b.jsxs)("div",{className:"container lg:container xl:container 2xl:container mx-auto h-screen relative",ref:r,children:[Object(b.jsx)("div",{className:"overflow-auto mt-5",style:{maxHeight:"calc(100vh - ".concat(C+110,"px)"),height:"calc(100vh - ".concat(C+110,"px)")},children:ee.map((function(e,r){var a;return Object(b.jsxs)("div",{children:[e.receiver===(null===V||void 0===V?void 0:V.email)?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"flex mb-5",children:[Object(b.jsx)("div",{className:"h-9 w-9 lg:h-11 lg:w-11 border-gray-400 dark:border-gray-800 rounded-full",children:Object(b.jsx)("img",{className:"rounded-full h-9 w-9 lg:h-11 lg:w-11",src:t.image?t.image:"https://ui-avatars.com/api/?name=".concat(t.name),alt:"user"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"dark:text-gray-500 px-2",children:new Date(e.updatedAt).toLocaleDateString("en-US",{hour:"numeric",minute:"numeric"})}),Object(b.jsx)(T.a,{overlay:Object(b.jsxs)(L.a,{className:"dark:bg-gray-800",children:[Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",onClick:function(){return Oe(e.message)},children:"Copy"},"1"),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:"Quote"},"2"),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:"Forward"},"3"),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:"Select Message"},"3")]}),trigger:["contextMenu"],children:Object(b.jsx)("div",{className:"ml-2 p-3 max-w-xs lg:max-w-lg xl:max-w-xl border dark:border-gray-800 rounded-tl-none rounded-xl dark:bg-gray-800 shadow-xl",children:e.message})})]})]})}):Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"flex mb-5 justify-end",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"dark:text-gray-500 px-3 flex justify-end",children:new Date(e.updatedAt).toLocaleDateString("en-US",{hour:"numeric",minute:"numeric"})}),Object(b.jsx)(T.a,{overlay:Object(b.jsxs)(L.a,{className:"dark:bg-gray-800",children:[Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",onClick:function(){return Oe(e.message)},children:"Copy"},"1"),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:"Quote"},"2"),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:"Forward"},"3"),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:"Select Message"},"3")]}),trigger:["contextMenu"],children:Object(b.jsx)("div",{className:"mr-2 p-3 max-w-xs lg:max-w-lg xl:max-w-xl ml-auto flex border dark:border-gray-800 rounded-tr-none rounded-xl dark:bg-gray-800 shadow-xl",children:e.message})}),r===e.length&&Object(b.jsx)("div",{className:"h-5 w-5 mr-2 border-gray-400 ml-auto dark:border-gray-800 rounded-full",children:Object(b.jsx)("img",{className:"rounded-full h-5 w-5",src:t.image?t.image:"https://ui-avatars.com/api/?name=".concat(t.name),alt:"user"})})]}),Object(b.jsx)("div",{className:"h-9 w-9 lg:h-11 lg:w-11 border-gray-400 dark:border-gray-800 rounded-full",children:Object(b.jsx)("img",{className:"rounded-full h-9 w-9 lg:h-11 lg:w-11",src:null!==(a=null===V||void 0===V?void 0:V.photo)&&void 0!==a?a:"https://ui-avatars.com/api/?name=".concat(V.name),alt:"user"})})]})}),Object(b.jsx)("div",{ref:i})]},r)}))}),Object(b.jsx)("div",{className:" py-2 sticky bottom-0 left-0 right-0 dark:bg-black ml-auto",ref:n,children:Object(b.jsxs)("div",{className:"flex justify-between",children:[Object(b.jsxs)("div",{className:"group dark:bg-gray-800 border dark:border-gray-800 rounded-xl ",style:{width:p*(3/4)},children:[u&&Object(b.jsxs)("div",{className:"flex flex-wrap items-center h-32 px-2 py-1 overflow-auto w-full",children:[Object(b.jsx)(D.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:se,onPreview:ke,onChange:function(e){var t=e.fileList;return ne(t)},multiple:!0,children:we}),Object(b.jsx)(W.a,{visible:oe,title:xe,footer:null,onCancel:function(){return le(!1)},children:Object(b.jsx)("img",{alt:"example",style:{width:"100%"},src:be})})]}),Object(b.jsxs)("div",{className:"flex overflow-x-hidden",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{onClick:function(){return Y((function(e){return!e}))},className:"material-icons-outlined p-2 mr-1 cursor-pointer rounded-full border-gray-400 dark:border-gray-800 hover:bg-gray-400 hover:text-white dark:hover:bg-gray-900 transition-all ease-in-out",children:"sentiment_satisfied"}),Object(b.jsx)(W.a,{title:"Select Emoji",centered:!0,visible:K,onOk:function(){return Y(!1)},onCancel:function(){return Y(!1)},children:Object(b.jsx)(q.a,{pickerStyle:{width:"100%"},onEmojiClick:function(e,t){A((function(e){return e+t.emoji}))}})})]}),Object(b.jsx)(H,{ref:s,value:U,type:"text",placeholder:"Type a message",className:"dark:text-white h-11 transition-all ease-in-out focus:border-none hover:border-none pt-2 text-lg border-none dark:border-gray-800 dark:bg-gray-800 focus:outline-none rounded-xl",style:{width:p*(3/4)-30},onChange:function(e){return A(e.target.value)},onKeyPress:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),fe())},autoSize:{maxRows:5,minRows:5}})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{className:"material-icons-outlined p-2 mx-2 dark:bg-gray-800 cursor-pointer border rounded-full border-gray-400 dark:border-gray-800 hover:bg-gray-400 hover:text-white dark:hover:bg-black transition-all ease-in-out",onClick:fe,children:"send"}),z?Object(b.jsx)(T.a,{overlay:pe,placement:"topRight",arrow:!0,children:Object(b.jsx)("span",{className:"material-icons-outlined p-2 mx-2 bg-gray-800 cursor-pointer border rounded-full border-gray-400 dark:border-gray-800 hover:bg-gray-400 hover:text-white dark:hover:bg-black transition-all ease-in-out",children:"more_horiz"})}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("span",{className:"material-icons-outlined p-2 mx-2 dark:bg-gray-800 cursor-pointer border rounded-full border-gray-400 dark:border-gray-800 hover:bg-gray-400 hover:text-white dark:hover:bg-black transition-all ease-in-out",onClick:function(){return h(!u)},children:u?"close":"attach_file"}),Object(b.jsx)("span",{className:"material-icons-outlined p-2 mx-2 dark:bg-gray-800 cursor-pointer border rounded-full border-gray-400 dark:border-gray-800 hover:bg-gray-400 hover:text-white dark:hover:bg-black transition-all ease-in-out",children:"contact_mail"})]})]})]})})]})},z=function(e){var t=e.children,r=e.showUserDetailsModal;return Object(b.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto ease-in-out duration-300 ".concat(r?"visible opacity-100":"invisible opacity-0"," "),"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:Object(b.jsxs)("div",{className:"\r flex\r items-center\r justify-center\r min-h-screen\r pt-4\r px-4\r pb-20\r text-center\r sm:block sm:p-0\r ",children:[Object(b.jsx)("div",{className:"fixed inset-0 bg-gray-500 dark:bg-transparent bg-opacity-75 transition-opacity","aria-hidden":"true"}),Object(b.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(b.jsx)("div",{className:"\r inline-block\r align-bottom\r bg-white\r dark:bg-gray-800\r rounded-lg\r text-left\r overflow-hidden\r shadow-xl\r transform\r transition-all\r sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\r ",children:t})]})})},G=function(e){var t=e.closeUserChat,r=e.toggleRightSidePanel,s=e.chattingUser,n=Object(a.useState)(!1),c=Object(l.a)(n,2),i=c[0],o=c[1],d=Object(a.useState)(!1),u=Object(l.a)(d,2),h=u[0],j=u[1];return Object(a.useEffect)((function(){window.innerWidth<992?o(!0):o(!1),window.addEventListener("resize",(function(){window.innerWidth<992?o(!0):o(!1)}))}),[]),Object(b.jsxs)("div",{className:"flex justify-between items-center border-b dark:border-gray-500",children:[Object(b.jsxs)("div",{className:"flex items-center mb-4",children:[Object(b.jsx)("span",{className:"visible w-auto lg:invisible lg:w-0 material-icons-outlined p-1.5 mr-3 cursor-pointer border rounded-full border-gray-400 dark:border-gray-800 hover:bg-gray-400 hover:text-white dark:hover:bg-gray-800 transition-all ease-in-out",onClick:t,children:"west"}),Object(b.jsx)("div",{className:"h-12 w-12 border-gray-400 dark:border-gray-800 rounded-full",children:Object(b.jsx)("img",{className:"rounded-full h-11 w-11",src:s.image?s.image:"https://ui-avatars.com/api/?name=".concat(s.name),alt:"user"})}),Object(b.jsxs)("div",{className:"pl-2 w-32 lg:w-auto",children:[Object(b.jsxs)("div",{className:"flex items-center",children:[Object(b.jsx)("p",{className:"mb-0 w-24 lg:w-auto truncate text-lg text-black group-hover:text-white dark:text-white",children:s.name}),Object(b.jsx)("span",{className:"material-icons-outlined ml-1 cursor-pointer hover:text-gray-400 transition-colors duration-700 ease-in-out",style:{fontSize:15},onClick:function(){return j(!0)},children:"settings"}),Object(b.jsxs)(z,{showUserDetailsModal:h,children:[Object(b.jsxs)("div",{className:"relative",children:[Object(b.jsx)("div",{className:"absolute top-10 left-1/2 transform -translate-x-1/2",children:Object(b.jsx)("img",{className:"rounded-full h-28 w-28",src:s.image?s.image:"https://ui-avatars.com/api/?name=".concat(s.name),alt:"user"})}),Object(b.jsx)("span",{onClick:function(){return j(!1)},className:"material-icons-outlined absolute top-0 right-0 p-1 dark:bg-gray-800 cursor-pointer border rounded-full border-gray-400 dark:border-gray-800 hover:bg-gray-400 hover:text-white dark:hover:bg-black transition-all ease-in-out",children:"close"})]}),Object(b.jsxs)("div",{className:"mt-40 pb-4",children:[Object(b.jsx)("h1",{className:"text-2xl font-bold text-center  dark:text-white",children:s.name}),Object(b.jsxs)("ul",{className:"list-none mx-8 mt-10 mb-7",children:[Object(b.jsxs)("li",{className:"border-b py-3 px-3 dark:border-gray-600 flex items-center cursor-pointer hover:bg-gray-400 dark:hover:bg-gray-900  hover:text-white transition-all ease-in-out",children:[Object(b.jsx)("span",{className:"material-icons-outlined mr-2 text-xs",children:"message"}),Object(b.jsx)("span",{children:"Send Message"})]}),Object(b.jsxs)("li",{className:"border-b py-3 dark:border-gray-600 flex items-center cursor-pointer hover:bg-gray-400 dark:hover:bg-gray-900  hover:text-white px-3 transition-all ease-in-out",children:[Object(b.jsx)("span",{className:"material-icons-outlined mr-2 text-xs",children:"call"}),Object(b.jsx)("span",{children:"Make a call"})]}),Object(b.jsxs)("li",{className:"border-b py-3 dark:border-gray-600 flex items-center cursor-pointer hover:bg-gray-400 dark:hover:bg-gray-900  hover:text-white px-3 transition-all ease-in-out",children:[Object(b.jsx)("span",{className:"material-icons-outlined mr-2 text-xs",children:"videocam"}),Object(b.jsx)("span",{children:"Make a video call"})]}),Object(b.jsxs)("li",{className:"border-b py-3 dark:border-gray-600 flex items-center cursor-pointer hover:bg-gray-400 dark:hover:bg-gray-900  hover:text-white px-3 transition-all ease-in-out",children:[Object(b.jsx)("span",{className:"material-icons-outlined mr-2 text-xs text-red-700 font-bold",children:"block"}),Object(b.jsx)("span",{children:"Block this user"})]})]})]})]})]}),Object(b.jsxs)("div",{className:"flex items-center",children:[Object(b.jsx)("div",{className:"border rounded-full h-2 w-2 ".concat(s.isActive?"bg-green-500":"bg-yellow-500")}),Object(b.jsx)("p",{className:"mb-0.5 ml-2 text-xs group-hover:text-white dark:text-gray-200 text-gray-500 font-semibold pt-1 w-44 cursor-pointer truncate",children:s.isActive?"Active now":"Away"})]})]})]}),Object(b.jsxs)("div",{className:"flex items-center mb-4",children:[!i&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("span",{className:"material-icons-outlined p-1.5 mr-1 cursor-pointer border rounded-full border-gray-400 dark:border-gray-800 hover:bg-gray-400 hover:text-white dark:hover:bg-gray-800 transition-all ease-in-out",children:"search"}),Object(b.jsx)("span",{onClick:r,className:"material-icons-outlined p-1.5 mr-1 cursor-pointer border rounded-full border-gray-400 dark:border-gray-800 hover:bg-gray-400 hover:text-white dark:hover:bg-gray-800 transition-all ease-in-out",children:"photo_library"}),Object(b.jsx)("span",{className:"material-icons-outlined p-1.5 mr-1 cursor-pointer border rounded-full border-gray-400 dark:border-gray-800 hover:bg-gray-400 hover:text-white dark:hover:bg-gray-800 transition-all ease-in-out",children:"person_add_alt_1"})]}),Object(b.jsx)("span",{className:"material-icons-outlined p-1.5 mr-1 dark:text-white cursor-pointer border bg-blue-500 rounded-full border-gray-400 dark:border-gray-800 hover:bg-blue-800 text-white transition-all ease-in-out",children:"videocam"}),Object(b.jsx)("span",{className:"material-icons-outlined p-1.5 mr-1 dark:text-white cursor-pointer border bg-blue-500 rounded-full border-gray-400 dark:border-gray-800 hover:bg-blue-800 text-white transition-all ease-in-out",children:"call"})]})]})},B=function(e){var t=e.closeUserChat,r=e.isMobileWidth,a=e.toggleRightSidePanel,s=e.chattingUser,n=e.socket;return Object(b.jsxs)("div",{className:"w-full h-screen dark:bg-black p-4",children:[Object(b.jsx)(G,{chattingUser:s,closeUserChat:t,isMobileWidth:r,toggleRightSidePanel:a}),Object(b.jsx)(Q,{chattingUser:s,socket:n})]})},J=function(e){var t,r,s=e.userDetails,n=e.openUserChat,c=e.chattingUser,i=e.userMessage,o=Object(a.useState)(!1),d=Object(l.a)(o,2),u=d[0],h=d[1],j=Object(a.useState)(!0),m=Object(l.a)(j,2),x=m[0],g=m[1];return Object(b.jsxs)("div",{className:"flex group justify-between mt-2 p-2 rounded-xl border dark:border-gray-800 hover:bg-gray-800 dark:hover:bg-gray-800 ".concat(u?"bg-gray-800":""," cursor-pointer transition-colors duration-100 ease-in-out hover:shadow-lg"),onClick:function(){n(),h(!u),c(s),g(!1)},children:[Object(b.jsxs)("div",{className:"flex justify-start items-center",children:[Object(b.jsxs)("div",{className:"border h-12 w-12 border-gray-400 dark:border-gray-800 rounded-full relative",children:[Object(b.jsx)("img",{className:"rounded-full",src:s.image?s.image:"https://ui-avatars.com/api/?name=".concat(s.name),alt:"user"}),Object(b.jsx)("div",{className:"absolute bottom-0 right-0 border rounded-full h-3 w-3 ".concat(s.isActive?"bg-green-500":"bg-yellow-500")})]}),Object(b.jsxs)("div",{className:"pl-2",children:[Object(b.jsx)("p",{className:"mb-0 text-sm text-black group-hover:text-white ".concat(u?"text-white":""," dark:text-white truncate w-36"),children:s.name}),0!==i.length&&Object(b.jsx)("p",{className:"mb-0 text-xs group-hover:text-white dark:text-gray-200 ".concat(u?"text-white":""," text-gray-500 font-semibold pt-1 w-44 cursor-pointer truncate"),children:null===(t=i[i.length-1])||void 0===t?void 0:t.message})]})]}),0!==i.length&&Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"text-xs group-hover:text-white text-black ".concat(u?"text-white":""," dark:text-white w-14"),children:new Date(null===(r=i[i.length-1])||void 0===r?void 0:r.updatedAt).toLocaleTimeString("en-Us",{hour:"2-digit",minute:"2-digit"})}),x&&Object(b.jsx)("div",{className:"bg-blue-700 text-white h-5 w-5 rounded-full mx-auto text-center mt-2",children:null===i||void 0===i?void 0:i.length})]})]})},K=function(e){var t=e.logOut,r=e.featureHeight,s=e.chatListHeight,n=e.chatUsers,c=e.openUserChat,o=e.chattingUser,u=Object(a.useState)("Active"),m=Object(l.a)(u,2),x=m[0],g=m[1],f=Object(a.useState)("active"),p=Object(l.a)(f,2),O=p[0],v=p[1],k=Object(a.useState)("chat"),w=Object(l.a)(k,2),y=w[0],N=w[1],S=Object(i.g)(),C=Object(j.c)((function(e){return e.details})).details,_=Object(j.c)((function(e){return e.socket})),E=Object(j.b)(),I=Object(a.useState)([]),U=Object(l.a)(I,2),A=U[0],P=U[1];Object(a.useEffect)((function(){var e=new Audio("/message.mp3");if(Object.keys(_).length)return _.on("messageSent",(function(t){C&&C.email===t.receiver&&(P((function(e){return[].concat(Object(R.a)(e),[t])})),e.play())})),function(){_.off()}}),[C,A,_]);var D=Object(b.jsxs)(L.a,{className:"dark:bg-gray-800",children:[Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:Object(b.jsx)(d.b,{to:"/setting",children:"Setting"})},"setting"),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:Object(b.jsx)("p",{className:"cursor-pointer mb-0",onClick:function(){E(t()),S("/")},children:"Logout"})},"logout")]}),W=Object(b.jsxs)(L.a,{className:"dark:bg-gray-800",children:[Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:Object(b.jsx)("p",{onClick:function(){return g("Be right back")},children:"Be right back"})},"Be right back"),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:Object(b.jsx)("p",{onClick:function(){return g("Out of lunch")},children:"Out of lunch"})},"Out of lunch"),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:Object(b.jsx)("p",{onClick:function(){return g("Out for lunch")},children:"Out for lunch"})},"Out for lunch"),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:Object(b.jsx)("p",{onClick:function(){return g("In meetings")},children:"In meetings"})},"In meetings"),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:Object(b.jsx)("p",{onClick:function(){return g("At school")},children:"At school"})},"At school"),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:Object(b.jsx)("p",{onClick:function(){return g("At the movies")},children:"At the movies"})},"At the movies"),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:Object(b.jsx)("p",{onClick:function(){return g("Working from home")},children:"Working from home"})},"Working from home")]}),M=Object(b.jsxs)(L.a,{className:"dark:bg-gray-800",children:[Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:Object(b.jsxs)("p",{onClick:function(){return v("active")},className:"flex justify-end items-center",children:["active"===O&&Object(b.jsx)("span",{class:"material-icons-outlined text-xs mr-2",children:"done"}),Object(b.jsx)("span",{children:"Active"})]})}),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:Object(b.jsxs)("p",{onClick:function(){return v("away")},className:"flex justify-end items-center",children:["away"===O&&Object(b.jsx)("span",{class:"material-icons-outlined text-xs mr-2",children:"done"}),Object(b.jsx)("span",{children:"Away"})]})}),Object(b.jsx)(L.a.Item,{className:"dark:text-white dark:hover:text-black",children:Object(b.jsxs)("p",{onClick:function(){return v("do not disturb")},className:"flex justify-end items-center",children:["do not disturb"===O&&Object(b.jsx)("span",{class:"material-icons-outlined text-xs mr-2",children:"done"}),Object(b.jsx)("span",{children:"Do not disturb"})]})})]});return Object(b.jsxs)("div",{className:"w-full lg:w-96 h-screen dark:bg-gray-900 dark:text-white border dark:border-gray-900",children:[Object(b.jsxs)("div",{ref:r,className:"px-3",children:[Object(b.jsxs)("div",{className:"flex justify-between items-center py-2",children:[Object(b.jsxs)("div",{className:"flex justify-start items-center",children:[Object(b.jsxs)("div",{className:"border h-10 w-10 border-gray-400 dark:border-gray-800 rounded-full relative",children:[(null===C||void 0===C?void 0:C.photo)?Object(b.jsx)("img",{className:"rounded-full h-10 w-10",src:null===C||void 0===C?void 0:C.photo,alt:"user"}):Object(b.jsx)("img",{className:"rounded-full h-10 w-10",src:"https://ui-avatars.com/api/?name=".concat(null===C||void 0===C?void 0:C.name),alt:"user"}),Object(b.jsx)(T.a,{overlay:M,placement:"bottomRight",trigger:["click"],children:Object(b.jsx)("div",{className:"absolute bottom-0 right-0 border rounded-full h-3 w-3 cursor-pointer ".concat("active"===O?"bg-green-500":"away"===O?"bg-yellow-400":"bg-red-600")})})]}),Object(b.jsxs)("div",{className:"pl-2",children:[Object(b.jsx)("p",{className:"text-sm mb-0 truncate w-32",children:null===C||void 0===C?void 0:C.name}),Object(b.jsx)(T.a,{overlay:W,placement:"bottomRight",trigger:["click"],children:Object(b.jsx)("p",{className:"text-xs mb-0 dark:text-gray-200 text-gray-500 font-semibold pt-1 cursor-pointer",children:x})})]})]}),Object(b.jsx)(h,{}),Object(b.jsx)(T.a,{overlay:D,placement:"bottomRight",trigger:["click"],children:Object(b.jsx)("span",{className:"material-icons-outlined p-1 cursor-pointer border rounded-full border-gray-400 dark:border-gray-800 hover:bg-gray-400 hover:text-white dark:hover:bg-gray-800 transition-all ease-in-out",children:"more_horiz"})})]}),Object(b.jsxs)("div",{className:"flex justify-between items-center",children:[Object(b.jsxs)("div",{className:"flex mr-3 items-center w-full dark:bg-gray-800 border dark:border-gray-800 border-gray-400 rounded-lg p-2 h-10",children:[Object(b.jsx)("span",{className:"material-icons-outlined dark:text-gray-200 font-thin",children:"search"}),Object(b.jsx)("input",{type:"text",placeholder:"People, groups, messages",className:"dark:text-white w-full text-xs pl-2 dark:bg-gray-800 focus:outline-none"})]}),Object(b.jsx)("div",{className:"p-2 border w-8 flex cursor-pointer rounded-lg justify-center items-center h-10 border-gray-400 dark:border-gray-800 hover:bg-gray-400 hover:text-white dark:hover:bg-gray-800 transition-all ease-in-out",children:Object(b.jsx)("span",{className:"material-icons-outlined text-xs",children:"dialpad"})})]}),Object(b.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[Object(b.jsxs)("div",{className:"flex-col group justify-center items-center cursor-pointer text-center",onClick:function(){return N("chat")},children:[Object(b.jsx)("span",{className:"border ".concat("chat"===y?"bg-blue-900 border-blue-800 text-white":"group-hover:border-blue-800 group-hover:bg-blue-800"," group-hover:text-white  rounded-full p-2  dark:group-hover:text-white dark:border-gray-800 material-icons-outlined text-xs transition-all ease-in-out"),children:"chat"}),Object(b.jsx)("p",{className:"text-xs ".concat("chat"===y?"dark:text-blue-300 text-white":"group-hover:text-blue-800 dark:group-hover:text-blue-300","  dark:text-gray-200 text-gray-500 transition-all ease-in-out font-semibold pt-0"),children:"Chats"})]}),Object(b.jsxs)("div",{className:"flex-col group justify-center items-center cursor-pointer text-center",onClick:function(){return N("call")},children:[Object(b.jsx)("span",{className:"border ".concat("call"===y?"bg-blue-900 border-blue-800 text-white":"group-hover:border-blue-800 group-hover:bg-blue-800"," group-hover:text-white  rounded-full p-2  dark:group-hover:text-white dark:border-gray-800 material-icons-outlined text-xs transition-all ease-in-out"),children:"call"}),Object(b.jsx)("p",{className:"text-xs ".concat("call"===y?"dark:text-blue-300 text-white":"group-hover:text-blue-800 dark:group-hover:text-blue-300","  dark:text-gray-200 text-gray-500 transition-all ease-in-out font-semibold pt-0"),children:"Calls"})]}),Object(b.jsxs)("div",{className:"flex-col group justify-center items-center cursor-pointer text-center",onClick:function(){return N("contacts")},children:[Object(b.jsx)("span",{className:"border ".concat("contacts"===y?"bg-blue-900 border-blue-800 text-white":"group-hover:border-blue-800 group-hover:bg-blue-800"," group-hover:text-white  rounded-full p-2  dark:group-hover:text-white dark:border-gray-800 material-icons-outlined text-xs transition-all ease-in-out"),children:"perm_contact_calendar"}),Object(b.jsx)("p",{className:"text-xs ".concat("contacts"===y?"dark:text-blue-300 text-white":"group-hover:text-blue-800 dark:group-hover:text-blue-300","  dark:text-gray-200 text-gray-500 transition-all ease-in-out font-semibold pt-0"),children:"Contacts"})]}),Object(b.jsxs)("div",{className:"flex-col group justify-center items-center cursor-pointer text-center",onClick:function(){return N("notifications")},children:[Object(b.jsx)("span",{className:"border ".concat("notifications"===y?"bg-blue-900 border-blue-800 text-white":"group-hover:border-blue-800 group-hover:bg-blue-800"," group-hover:text-white  rounded-full p-2  dark:group-hover:text-white dark:border-gray-800 material-icons-outlined text-xs transition-all ease-in-out"),children:"notifications"}),Object(b.jsx)("p",{className:"text-xs ".concat("notifications"===y?"dark:text-blue-300 text-white":"group-hover:text-blue-800 dark:group-hover:text-blue-300","  dark:text-gray-200 text-gray-500 transition-all ease-in-out font-semibold pt-0"),children:"Notifications"})]})]}),Object(b.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[Object(b.jsxs)("div",{className:"flex justify-around mr-1.5 cursor-pointer items-center w-full dark:bg-gray-800 border dark:border-gray-800 border-gray-400 rounded-xl p-2 h-10",children:[Object(b.jsx)("span",{className:"material-icons-outlined dark:text-gray-200 font-thin text-xs",children:"videocam"}),Object(b.jsx)("p",{className:"dark:text-white pl-2 text-sm mb-0",children:"Meet now"})]}),Object(b.jsxs)("div",{className:"flex justify-around ml-1.5 cursor-pointer items-center w-full dark:bg-gray-800 border dark:border-gray-800 border-gray-400 rounded-xl p-2 h-10",children:[Object(b.jsx)("span",{className:"material-icons-outlined dark:text-gray-200 font-thin text-xs",children:"forum"}),Object(b.jsx)("p",{className:"dark:text-white pl-2 text-sm mb-0",children:"New Chat"})]})]})]}),Object(b.jsx)("div",{className:"overflow-y-auto mt-2 px-3 chatList",style:{maxHeight:r.current?"".concat(s):"auto"},children:n&&n.map((function(e){return Object(b.jsx)(J,{image:e.image?e.image:"https://ui-avatars.com/api/?name=".concat(e.name),chattingUser:o,userDetails:e,userMessage:A&&A.filter((function(t){return t.sender===e.email||t.receiver===e.email})),openUserChat:c},e._id)}))})]})},Y=r(282),V=function(e){var t=e.toggleRightSidePanel;return Object(b.jsxs)("div",{className:"px-4 pt-10 relative",children:[Object(b.jsx)("span",{className:"material-icons-outlined absolute top-2 left-0 p-2 mx-2 dark:bg-gray-800 cursor-pointer border rounded-full border-gray-400 dark:border-gray-800 hover:bg-gray-400 hover:text-white dark:hover:bg-black transition-all ease-in-out",onClick:t,children:"close"}),Object(b.jsx)("div",{className:"h-screen overflow-y-scroll mt-4",children:Object(R.a)(Array(20)).map((function(e,t){return t%2===0?Object(b.jsxs)("div",{className:"my-4",children:[Object(b.jsx)("p",{className:"dark:text-gray-500 text-black mb-1",children:"You, 4.16 PM"}),Object(b.jsx)("div",{className:"w-full border dark:border-gray-800 rounded-xl flex justify-center p-2 shadow hover:shadow-lg transition-shadow ease-in-out duration-700",children:Object(b.jsx)(Y.a,{width:"100%",className:"rounded-xl w-full",src:"https://picsum.photos/200/300",alt:"pic"})})]},t):Object(b.jsxs)("div",{className:"my-4 ",children:[Object(b.jsx)("p",{className:"dark:text-gray-500 text-black mb-1",children:"You, 4.16 PM"}),Object(b.jsxs)("div",{className:"w-full border dark:border-gray-800 rounded-xl flex justify-center p-5 shadow hover:shadow-lg transition-shadow ease-in-out duration-700 flex-col",children:[Object(b.jsx)("p",{className:"dark:text-gray-300 text-black text-lg",children:"mediaQuery.css"}),Object(b.jsxs)("div",{className:"flex items-center my-5",children:[Object(b.jsx)("span",{className:"material-icons-outlined  mr-2",children:"insert_drive_file"}),Object(b.jsx)("span",{children:"File"})]}),Object(b.jsx)("hr",{className:"dark:border-gray-800 border-gray-400 h-2"}),Object(b.jsx)("a",{href:"#top",className:"dark:text-gray-300 text-black text-lg text-center dark:hover:text-gray-400 transition-all hover:text-gray-400 ease-in-out duration-700",children:"Download"})]})]},t)}))})]})},$="USER_DETAILS_REQUEST",X="USER_DETAILS_SUCCESS",Z="USER_DETAILS_FAILURE",ee="CHAT_USERS",te=r(172),re="SOCKET",ae=function(){var e,t,r,s,n=Object(a.useState)(0),c=Object(l.a)(n,2),i=c[0],o=c[1],d=Object(a.useState)(!1),u=Object(l.a)(d,2),h=u[0],m=u[1],f=Object(a.useState)(!1),p=Object(l.a)(f,2),O=p[0],v=p[1],k=Object(a.useState)(!1),w=Object(l.a)(k,2),y=w[0],N=w[1],S=Object(j.c)((function(e){return e.user})),E=Object(j.c)((function(e){return e.details})),I=Object(j.c)((function(e){return e.socket})),R=Object(j.b)(),A=Object(a.useRef)(null),L=Object(a.useState)([]),P=Object(l.a)(L,2),T=P[0],D=P[1],W=Object(a.useState)({}),M=Object(l.a)(W,2),F=M[0],q=M[1];Object(a.useEffect)((function(){var e;A.current&&(window.innerWidth>991?o("calc(100vh - ".concat(A.current.offsetHeight+20,"px)")):o("auto")),window.innerWidth<992?v(!0):v(!1),window.addEventListener("resize",(function(){window.innerWidth<992?v(!0):v(!1)})),R((e=null===S||void 0===S?void 0:S._id,function(){var t=Object(g.a)(x.a.mark((function t(r){var a,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:$}),t.next=4,C.a.get("/api/v1/user/".concat(e));case 4:a=t.sent,s=a.data.data,r({type:X,payload:s}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:Z,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())),R((function(e){var t=Object(te.a)("/");t.on("connect",(function(){e({type:re,payload:t})}))}))}),[R,S._id]),Object(a.useEffect)((function(){if(Object.keys(I).length)return I.emit("new-user",{_id:S._id}),function(){I.disconnect()}}),[R,I,S._id]),Object(a.useEffect)((function(){if(Object.keys(I).length)return I.on("user-connected",(function(e){D(e.filter((function(e){return e._id!==S._id}))),R(function(e){return function(){var t=Object(g.a)(x.a.mark((function t(r){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r({type:ee,payload:e})}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e.filter((function(e){return e._id!==S._id})))),e.filter((function(e){return e._id===(null===F||void 0===F?void 0:F._id)})).length||m(!1)})),function(){I.off()}}),[F,R,I,S._id]);var H=function(e){m(!0)},Q=function(){N(!y)},z=function(e){q(T.find((function(t){return t._id===e._id})))};return Object(b.jsxs)("div",{className:"flex-col lg:flex-row flex overflow-hidden",children:[O&&!h?Object(b.jsx)(K,{dispatch:R,logOut:_,chatUsers:T,featureHeight:A,chatListHeight:i,openUserChat:H,chattingUser:z}):O?null:Object(b.jsx)(K,{dispatch:R,logOut:_,chatUsers:T,featureHeight:A,chatListHeight:i,openUserChat:H,chattingUser:z}),O&&h?Object(b.jsx)("div",{className:"w-screen h-screen dark:bg-black dark:text-white",children:h?Object(b.jsx)(B,{chattingUser:F,openUserChat:H,closeUserChat:function(e){m(!1)}}):Object(b.jsx)(U,{img:null===E||void 0===E||null===(e=E.details)||void 0===e?void 0:e.photo,name:null===E||void 0===E||null===(t=E.details)||void 0===t?void 0:t.name})}):O?null:Object(b.jsx)("div",{className:"w-screen h-screen dark:bg-black dark:text-white",children:h?Object(b.jsx)(B,{chattingUser:F,toggleRightSidePanel:Q}):Object(b.jsx)(U,{img:null===E||void 0===E||null===(r=E.details)||void 0===r?void 0:r.photo,name:null===E||void 0===E||null===(s=E.details)||void 0===s?void 0:s.name})}),y&&Object(b.jsx)("div",{className:" transition-all absolute right-0 w-full lg:w-72 top-0 ease-in-out h-screen duration-1000 dark:bg-gray-900 dark:text-white border dark:border-gray-900 overflow-hidden z-10 bg-white",children:Object(b.jsx)(V,{toggleRightSidePanel:Q})})]})},se=function(e){var t=e.children,r=Object(j.c)((function(e){return e.user})),a=Object(i.f)();return r._id?t:Object(b.jsx)(i.a,{to:"/",state:{from:a}})},ne=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),r=t[0],s=t[1],n=Object(a.useState)(!1),c=Object(l.a)(n,2),i=c[0],o=c[1],d=Object(a.useState)(""),u=Object(l.a)(d,2),h=u[0],j=u[1],m=Object(a.useState)(""),f=Object(l.a)(m,2),p=f[0],O=f[1],v=function(e){return new Promise((function(t,r){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return r(e)}}))},k=function(){var e=Object(g.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,v(t.originFileObj);case 3:t.preview=e.sent;case 4:j(t.url||t.preview),O(t.name||t.url.substring(t.url.lastIndexOf("/")+1)),o(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=Object(b.jsxs)("div",{children:[Object(b.jsx)(M.a,{}),Object(b.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(D.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:r,onPreview:k,onChange:function(e){var t=e.fileList;return s(t)},children:r.length>=8?null:w}),Object(b.jsx)(W.a,{visible:i,title:p,footer:null,onCancel:function(){return o(!1)},children:Object(b.jsx)("img",{alt:"example",style:{width:"100%"},src:h})})]})};var ce=function(){return Object(b.jsxs)(i.d,{children:[Object(b.jsx)(i.b,{path:"/registration",element:Object(b.jsx)(I,{})}),Object(b.jsx)(i.b,{path:"/dashboard",element:Object(b.jsx)(se,{children:Object(b.jsx)(ae,{})})}),Object(b.jsx)(i.b,{path:"/test",element:Object(b.jsx)(ne,{})}),Object(b.jsx)(i.b,{path:"/",element:Object(b.jsx)(E,{})})]})},ie=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,288)).then((function(t){var r=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,c=t.getTTFB;r(e),a(e),s(e),n(e),c(e)}))},oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var de=r(95),ue=r(170),be=r(171),he="CHAT_MESSAGES",je=Object(de.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{isLoading:!0};case p:return t.payload;case O:return{isLoading:!1,error:t.payload};case v:return{};default:return e}},details:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return{isLoading:!0};case X:return{isLoading:!1,details:t.payload};case Z:return{isLoading:!1,error:t.payload};case v:return{};default:return e}},chatUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return t.payload;case v:return{};default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return t.payload;case v:return{};default:return e}},socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return t.payload;default:return e}}}),me={user:localStorage.getItem("token")?Object(N.a)(localStorage.getItem("token")):null},xe=[be.a],ge=Object(de.createStore)(je,me,Object(ue.composeWithDevTools)(de.applyMiddleware.apply(void 0,xe)));c.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(d.a,{children:Object(b.jsx)(j.a,{store:ge,children:Object(b.jsx)(ce,{})})})}),document.getElementById("root")),ie(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");oe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var a=r.headers.get("content-type");404===r.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):le(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):le(t,e)}))}}()}},[[279,1,2]]]);
//# sourceMappingURL=main.00281d83.chunk.js.map